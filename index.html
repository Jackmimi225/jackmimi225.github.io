<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>多面体骰子 · Drag → Roll → Unfold → Walk</title>
  <link rel="stylesheet" href="styles.css?v=cubocta_v1" />
</head>
<body>
  <div class="stage">
    <div class="viewport" id="vp">
      <div class="dice" id="dice" draggable="false" aria-label="poly area">

        <!-- 掷出数字 2.5s 的中央徽章 -->
        <div id="badge" class="badge" hidden>1</div>

        <!-- 折叠态：真正的 cuboctahedron（6 方 + 8 三角），由 JS 生成每个面 -->
        <div id="cube" class="poly show" role="button" aria-label="poly">
          <div id="solid3d" class="solid3d" aria-hidden="true"></div>

          <!-- 展开态：对应的平面网（6 个编号方格 + 三角，只对方格走步/停留） -->
          <div class="net" aria-hidden="true">
            <div class="cell sqC s1" data-num="1"><span>1</span></div>
            <div class="cell sqC s2" data-num="2"><span>2</span></div>
            <div class="cell sqC s3" data-num="3"><span>3</span></div>
            <div class="cell sqC s4" data-num="4"><span>4</span></div>
            <div class="cell sqC s5" data-num="5"><span>5</span></div>
            <div class="cell sqC s6" data-num="6"><span>6</span></div>

            <!-- 仅用于形态还原的三角（不参与编号/走步），布局接近你给的“星形 + 链条”网 -->
            <div class="cell triN nA"></div><div class="cell triN nB"></div>
            <div class="cell triN nC"></div><div class="cell triN nD"></div>
            <div class="cell triN nE"></div><div class="cell triN nF"></div>
            <div class="cell triN nG"></div><div class="cell triN nH"></div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- 作品弹窗 -->
  <div id="modal" class="modal" hidden>
    <div class="modal__backdrop" data-close="1"></div>
    <section class="modal__card" role="dialog" aria-modal="true" aria-labelledby="mTitle">
      <button class="modal__close" data-close="1" aria-label="关闭">×</button>
      <div class="modal__media" id="mMedia"></div>
      <div class="modal__body">
        <h3 id="mTitle"></h3>
        <p id="mDesc"></p>
        <a id="mLink" class="btn" href="#" target="_blank" rel="noopener">打开链接</a>
      </div>
    </section>
  </div>

  <script src="app.js?v=cubocta_v1"></script>
</body>
</html>
